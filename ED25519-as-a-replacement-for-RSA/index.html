<!DOCTYPE html><html lang="zh"><head><meta name="google-site-verification" content="6dKXSVBE3ZyVxHtiFCvc57UwP5MEzcp51X7Wn5okSoE"><link rel="icon" href="/api/images/tianzhen.jpg"><meta charset="utf-8"><title>更安全高效的加密算法：ED25519 | Tianzhen</title><meta name="author" content="Tianzhen"><meta name="description" content="DevPath Chronicles"><meta name="keywords" content="tianzhentech"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="preconnect" href="https://cdn.staticfile.org"><link rel="preconnect" href="https://twikoo.tianzhentech.cn"><link rel="preconnect" href="/api"><script src="/api/js/vue.global.prod.min.js"></script><script src="/api/js/anime.min.js"></script><link rel="stylesheet" href="/api/fontawesome/fontawesome6.5.1/css/all.min.css"><link rel="stylesheet" href="/api/css/fonts/fonts.loli.net.min.css"><script>const mixins={}</script><script src="/api/js/highlight.min.js"></script><script src="/api/js/highlightjs-line-numbers.min.js"></script><link rel="stylesheet" href="/api/css/github.min.css"><script src="/api/js/lib/highlight.js"></script><script src="/api/js/katex.min.js"></script><script src="/api/js/auto-render.min.js"></script><link rel="stylesheet" href="/api/css/katex.min.css"><script src="/api/js/lib/math.js"></script><script src="/api/js/lib/preview.js"></script><script src="/api/js/waline.min.js"></script><link rel="stylesheet" href="/api/css/waline.min.css"><link rel="stylesheet" href="/api/css/waline-meta.min.css"><link rel="stylesheet" href="/api/css/main.css"><style>.flex-container{display:flex;justify-content:center;align-items:center;height:100vh}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div id="layout"><transition name="fade"><div id="loading" v-show="loading"><div id="loading-circle"><h2>LOADING</h2><p>加载过慢请开启缓存 浏览器默认开启</p><img src="/api/images/loading.gif"></div></div></transition><div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}"><nav id="desktop-menu"><a class="title" href="/"><span>TIANZHEN</span> </a><a href="/"><i class="fa-solid fa-house fa-fw"></i> <span>&ensp;Home</span> </a><a href="/about"><i class="fa-solid fa-id-card fa-fw"></i> <span>&ensp;About</span> </a><a href="/archives"><i class="fa-solid fa-box-archive fa-fw"></i> <span>&ensp;Archives</span> </a><a href="/categories"><i class="fa-solid fa-bookmark fa-fw"></i> <span>&ensp;Categories</span> </a><a href="/tags"><i class="fa-solid fa-tags fa-fw"></i> <span>&ensp;Tags</span></a></nav><nav id="mobile-menu"><div class="title" @click="showMenuItems = !showMenuItems"><i class="fa-solid fa-bars fa-fw"></i> <span>&emsp;TIANZHEN</span></div><transition name="slide"><div class="items" v-show="showMenuItems"><a href="/"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-house fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Home</div></div></a><a href="/about"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-id-card fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">About</div></div></a><a href="/archives"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-box-archive fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Archives</div></div></a><a href="/categories"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-bookmark fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Categories</div></div></a><a href="/tags"><div class="item"><div style="min-width:20px;max-width:50px;width:10%"><i class="fa-solid fa-tags fa-fw"></i></div><div style="min-width:100px;max-width:150%;width:20%">Tags</div></div></a></div></transition></nav></div><transition name="fade"><div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div></transition><div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'"><div class="article"><div><h1>更安全高效的加密算法：ED25519</h1></div><div class="info"><span class="date"><span class="icon"><i class="fa-solid fa-calendar fa-fw"></i> </span>2024/1/21 </span><span class="category"><a href="/categories/Linux/"><span class="icon"><i class="fa-solid fa-bookmark fa-fw"></i> </span>Linux </a></span><span class="tags"><span class="icon"><i class="fa-solid fa-tags fa-fw"></i> </span><span class="tag"><a href="/tags/SSH/" style="color:#00a596">SSH</a> </span><span class="tag"><a href="/tags/%E7%BC%96%E7%A0%81%E4%B8%8E%E5%8A%A0%E5%AF%86/" style="color:#ff7d73">编码与加密</a></span></span></div><div class="content" v-pre><h1><span id="常用的公钥加密和签名算法">常用的<code>公钥加密</code>和<code>签名算法</code>：</span></h1><p>在配置SSH免密登录的时候，一般会用到几种常用的公钥加密和签名算法：</p><ul><li><p><strong>RSA</strong>：RSA是最早的公钥加密和签名算法之一，它在许多协议和系统中被广泛使用，包括HTTPS、SSH、OpenPGP、S&#x2F;MIME等。然而，RSA需要比较大的密钥（通常是2048位或更大）才能提供足够的安全性，而且它的加密和签名操作相对较慢。</p></li><li><p><strong>ECDSA</strong>：ECDSA是基于椭圆曲线密码学的签名算法，它比RSA更高效，可以提供相同的安全性但需要更小的密钥。ECDSA在许多现代的协议和系统中被广泛使用，包括Bitcoin、Ethereum、TLS 1.3、SSH等。然而，ECDSA的安全性取决于其参数的选择，如果选择不当，可能会降低其安全性。</p></li><li><p><strong>ED25519</strong>：ED25519是一种新的签名算法，它基于椭圆曲线密码学，但设计得更简单、更安全。ED25519比ECDSA更不容易受到侧信道攻击，而且它的性能也非常好。ED25519在一些新的系统和协议中被广泛使用，包括OpenSSH 7.0、Tor、Signal等。”25519”这个数字的来源是这样的：<code>Curve25519</code>是一种特定的椭圆曲线，它的名字来源于它的模数<em>p</em>，<em>p</em>是一个接近$2^{255}的质数，具体来说，<em>p</em>&#x3D;2^{255}-19$，因此得名”25519”。</p><p>这种曲线被选中的原因是它在安全性和性能之间提供了一个很好的平衡。它的设计者，Daniel J. Bernstein，特意选择了这个参数，以便在现代硬件上实现高效的加密操作，同时还能抵抗已知的加密攻击。</p></li></ul><blockquote><p>注意：公钥加密和签名算法是两种不同但相关的密码学技术，它们都依赖于公钥和私钥的概念。</p></blockquote><ul><li><strong>公钥加密</strong>：这是一种加密方法，其中有两个密钥：公钥和私钥。公钥用于加密数据，而私钥用于解密数据。这意味着任何人都可以使用公钥加密信息，但只有拥有相应私钥的人才能解密这些信息。这种方法通常用于保护信息的机密性。RSA和ElGamal是公钥加密的例子。</li><li><strong>签名算法</strong>：这是一种用于验证信息来源和完整性的方法。在这种情况下，私钥用于生成数字签名，而公钥用于验证签名。这意味着只有拥有私钥的人才能生成有效的签名，但任何人都可以使用公钥来验证签名。这种方法通常用于防止信息被篡改或伪造。RSA和ECDSA（Elliptic Curve Digital Signature Algorithm）是签名算法的例子。</li></ul><blockquote><p>值得注意的是，有些算法，如RSA，既可以用于公钥加密，也可以用于签名。然而，有些算法，如ECDSA和ED25519，只用于签名。</p></blockquote><p>我们用的最多的是<code>RSA</code>，但是很老旧了，必须依靠比较长的密钥才能保证其安全性，就算这样，它的安全性也不如<code>ED25519</code>了，性能也不如，在进行大量的加密解密运算时，性能的差异就会体现出来。</p><h1><span id="怎么生成公私钥">怎么生成公私钥？</span></h1><h2><span id="1-rsa">1. RSA</span></h2><pre><code class="bash">ssh-keygen -t rsa -b 2048 -C &quot;your_email@example.com&quot;
</code></pre><p>这个命令的含义是：</p><ul><li><p><code>ssh-keygen</code>：是一个在Unix和类Unix系统（如Linux和Mac OS）中用于生成、管理和转换认证密钥的工具。它是SSH（Secure Shell）协议的一部分，SSH是一种用于安全远程登录和其他安全网络服务的协议。</p><p><code>ssh-keygen</code>可以生成几种类型的认证密钥，包括RSA、DSA、ECDSA、ED25519等。生成的密钥对包括一个私钥和一个公钥。私钥必须保密，而公钥可以公开。当你想要通过SSH连接到一个服务器时，你可以将你的公钥添加到服务器的授权密钥列表中。然后，当你尝试连接时，服务器会使用你的公钥来加密一个挑战消息，只有持有相应私钥的人才能解密。这样，服务器就可以确认你是你声称的人，而无需你发送密码。</p></li><li><p><code>-t rsa</code>：指定要生成的密钥类型为RSA。</p></li><li><p><code>-b 2048</code>：指定密钥长度为2048位。在生成RSA密钥对时，你可以选择密钥的长度。密钥的长度决定了加密的强度：密钥越长，破解的难度就越大。然而，密钥长度的增加也会导致加密和解密的计算复杂度增加，因此需要在安全性和性能之间找到一个平衡。</p><p>2048位是目前广泛接受的RSA密钥长度。它提供了足够的安全性，同时在大多数系统上的性能也是可以接受的。对于大多数用途来说，2048位的RSA密钥已经足够安全。</p><p>然而，如果你正在处理极度敏感的信息，或者你的系统可以承受更高的计算负载，你也可以选择使用更长的密钥，如3072位或4096位。但是，这可能会导致性能下降，并且在许多情况下，2048位的密钥已经足够安全。</p><p>需要注意的是，随着计算能力的提高，未来可能需要更长的密钥来保持相同的安全级别。因此，你应该定期评估你的加密需求，并在必要时更新你的密钥。</p></li><li><p><code>-C &quot;your_email@example.com&quot;</code>：添加一个注释，<code>&quot;your_email@example.com&quot;</code>就是你添加的注释。当然，你可以将这个字符串替换为任何有助于你识别密钥的信息。注释并不会影响密钥的功能，它只是一个标签，用于帮助你管理你的密钥。</p></li></ul><p>按回车键，你将被提示输入一个文件名，这将是你的私钥文件的名称。如果你只是按回车键而不输入任何内容，那么私钥将被保存在默认的<code>.ssh/id_rsa</code>文件中。</p><p>你将被提示输入一个密码。这是一个可选步骤，如果你不想为你的私钥设置密码，你可以直接按回车键，如果设置了密码以后每次ssh登录时都要输入密码。</p><h2><span id="2-ecdsa">2. ECDSA</span></h2><pre><code class="bash">ssh-keygen -t ecdsa -b 256
</code></pre><ul><li><code>-t ecdsa</code>指定了密钥类型为ECDSA。</li><li><code>-b 256</code>指定了密钥长度为256位。这是因为ECDSA密钥通常使用256位长度，这提供了足够的安全性，同时保持了良好的性能。</li><li>你也可以向上面RSA一样加一个注释，这是可选的。</li></ul><p>其余步骤一样。</p><h2><span id="3-ed25519">3. ED25519</span></h2><pre><code class="bash">ssh-keygen -t ed25519
</code></pre><ul><li><p><code>-t ed25519</code>指定了密钥类型为ED25519。</p></li><li><p>为什么没有指定密匙长度？Ed25519是一种公钥加密算法，它使用的是Edwards曲线数字签名算法（EdDSA）。Ed25519的设计者已经为它选择了一个特定的曲线（edwards25519），并且已经设定了一个固定的密钥长度（256位）。这是因为Ed25519的设计目标之一就是提供一种既安全又高效的加密算法，而256位的密钥长度在安全性和效率之间提供了一个很好的平衡。</p><p>因此，当你使用<code>ssh-keygen</code>生成Ed25519密钥对时，不需要（也不能）指定密钥长度。</p></li><li><p>注释是可选的。</p></li></ul><p>其余步骤一样。</p><h1><span id="部署公钥">部署公钥？</span></h1><p>登录服务器，然后把之前生成的公钥（默认是在<code>~/.ssh/</code>下一个后缀为<code>.pub</code>的一个文件中，比如你是用的<code>RSA</code>，就是<code>id_rsa.pub</code>，如果是<code>ED25519</code>就是<code>id_ed25519.pub</code>，用记事本打开）复制到服务器的<code>~/.ssh/authorized_keys</code>中，如果没有则需要自己创建。</p></div><div id="comment"><div id="waline-container"></div></div></div><footer id="footer"><div id="footer-wrap"><div>&copy; 2023 - 2024 Tianzhen <span id="footer-icon"><i class="fa-solid fa-font-awesome fa-fw"></i> </span>&commat;Tianzhen</div><div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp; <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a></div><div><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn">豫ICP备2023040339号</a></div></div></footer></div><transition name="fade"><div id="preview" ref="preview" v-show="previewShow"><img id="preview-content" ref="previewContent"></div></transition></div><script src="/api/js/main.js"></script><script>Waline.init({el:"#waline-container",serverURL:"https://waline.tianzhentech.cn",commentCount:!0,pageview:!1,emoji:"https://unpkg.com/@waline/emojis@1.2.0/weibo,https://unpkg.com/@waline/emojis@1.2.0/alus,https://unpkg.com/@waline/emojis@1.2.0/bilibili,https://unpkg.com/@waline/emojis@1.2.0/qq,https://unpkg.com/@waline/emojis@1.2.0/tieba,https://unpkg.com/@waline/emojis@1.2.0/tw-emoji".split(","),meta:"nick,mail,link".split(","),requiredMeta:"nick".split(","),lang:"zh-CN",wordLimit:0,pageSize:"10",login:"enable"})</script></body></html>